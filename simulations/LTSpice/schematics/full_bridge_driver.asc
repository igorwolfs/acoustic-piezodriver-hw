Version 4
SHEET 1 2860 1688
WIRE 1600 -48 1600 -64
WIRE 1600 -48 1488 -48
WIRE 1696 -48 1696 -64
WIRE 1760 -48 1696 -48
WIRE 80 -32 32 -32
WIRE 1600 -32 1600 -48
WIRE 1696 -32 1696 -48
WIRE 1488 -16 1488 -48
WIRE 1104 16 1104 -48
WIRE 1104 16 1056 16
WIRE -720 32 -880 32
WIRE 992 32 960 32
WIRE 0 48 -144 48
WIRE 1264 48 1056 48
WIRE 80 64 80 -32
WIRE 80 64 64 64
WIRE 1488 64 1488 48
WIRE 1600 64 1600 48
WIRE 1600 64 1488 64
WIRE 0 80 -32 80
WIRE -144 96 -144 48
WIRE -336 128 -384 128
WIRE 1424 128 1264 128
WIRE 1696 128 1696 48
WIRE 1760 128 1760 -48
WIRE -720 144 -720 32
WIRE -512 144 -640 144
WIRE 1600 144 1600 64
WIRE 1600 144 1552 144
WIRE -224 160 -384 160
WIRE 960 160 960 32
WIRE 1264 160 960 160
WIRE 1424 160 1264 160
WIRE -864 176 -1024 176
WIRE -512 176 -784 176
WIRE 1696 176 1696 128
WIRE 1696 176 1552 176
WIRE -1024 192 -1024 176
WIRE -144 192 -144 176
WIRE -144 192 -384 192
WIRE -32 192 -32 80
WIRE 64 192 -32 192
WIRE 256 192 64 192
WIRE 384 192 336 192
WIRE 512 192 464 192
WIRE 960 192 960 160
WIRE 960 192 576 192
WIRE 1072 192 960 192
WIRE 1424 192 1184 192
WIRE -656 208 -752 208
WIRE -512 208 -656 208
WIRE 1184 208 1184 192
WIRE 1824 208 1552 208
WIRE 2064 208 2064 192
WIRE 2064 208 1904 208
WIRE -224 224 -384 224
WIRE 64 224 64 192
WIRE 64 224 -224 224
WIRE 1424 224 1264 224
WIRE -512 240 -560 240
WIRE 1680 240 1552 240
WIRE -224 256 -384 256
WIRE 1072 256 1072 192
WIRE 1072 256 1056 256
WIRE 1424 256 1376 256
WIRE -752 272 -752 208
WIRE 992 272 960 272
WIRE 256 288 256 192
WIRE 384 288 256 288
WIRE 576 288 576 192
WIRE 576 288 448 288
WIRE 1184 288 1056 288
WIRE -656 336 -656 208
WIRE -560 336 -560 240
WIRE -480 336 -560 336
WIRE -16 336 -224 336
WIRE -480 352 -480 336
WIRE 64 352 64 224
WIRE 64 352 48 352
WIRE 1760 352 1760 240
WIRE 1920 352 1760 352
WIRE -16 368 -48 368
WIRE 960 368 960 272
WIRE -480 416 -560 416
WIRE -752 432 -752 336
WIRE -656 432 -656 416
WIRE -656 432 -752 432
WIRE -656 448 -656 432
WIRE -560 448 -560 416
WIRE -48 448 -48 368
FLAG -336 128 0
FLAG 32 -112 0
FLAG -880 112 0
FLAG -1024 272 0
FLAG -656 448 0
FLAG -560 448 0
FLAG 1376 256 0
FLAG 960 448 0
FLAG 1920 272 0
FLAG 2064 112 0
FLAG 1696 -64 0
FLAG 1600 -64 0
FLAG -48 448 0
FLAG 1104 -48 0
SYMBOL res -768 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {Rin_H}
SYMBOL res -624 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {Rin_L}
SYMBOL UCC27282 -448 192 R0
SYMATTR InstName U1
SYMBOL cap -240 160 R0
SYMATTR InstName C4
SYMATTR Value {Cboot}
SYMBOL res -240 240 R0
SYMATTR InstName R8
SYMATTR Value {Rout_L}
SYMBOL res -160 80 R0
SYMATTR InstName R10
SYMATTR Value {Rout_H}
SYMBOL voltage 32 -16 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 25
SYMBOL voltage -1024 176 R0
WINDOW 3 -1171 182 Left 2
SYMATTR Value PWL REPEAT FOREVER ((0 3.3) ({{t}-10n} 3.3) ({t} 0) ({2*{t}-10n} 0) ({2*{t}} 3.3)) ENDREPEAT
SYMATTR InstName V4
SYMBOL voltage -880 16 R0
WINDOW 3 -1332 66 Left 2
SYMATTR Value PWL REPEAT FOREVER ((0 0) ({{t}-10n} 0) ({t} 3.3) ({2*{t}-10n} 3.3) ({2*{t}} 0)) ENDREPEAT
SYMATTR InstName V5
SYMBOL voltage -656 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage -560 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL res 352 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 2
SYMBOL ind 480 176 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 3.33e-5
SYMBOL cap 576 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 2.6325e-10
SYMBOL cap 448 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1.3e-9
SYMBOL res 1808 224 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value {Rin_H}
SYMBOL res 1664 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value {Rin_L}
SYMBOL UCC27282 1488 192 R180
SYMATTR InstName U2
SYMBOL cap 1280 224 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value {Cboot}
SYMBOL res 1280 144 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value {Rout_L}
SYMBOL res 1200 304 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value {Rout_H}
SYMBOL voltage 960 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 25
SYMBOL voltage 1696 64 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value 3.3
SYMBOL voltage 1600 64 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value 12
SYMBOL voltage 1920 368 R180
WINDOW 0 24 96 Left 2
WINDOW 3 -791 -42 Left 2
SYMATTR InstName V11
SYMATTR Value PWL REPEAT FOREVER ((0 3.3) ({{t}-10n} 3.3) ({t} 0) ({2*{t}-10n} 0) ({2*{t}} 3.3)) ENDREPEAT
SYMBOL voltage 2064 208 R180
WINDOW 0 24 96 Left 2
WINDOW 3 -793 148 Left 2
SYMATTR InstName V7
SYMATTR Value PWL REPEAT FOREVER ((0 0) ({{t}-10n} 0) ({t} 3.3) ({2*{t}-10n} 3.3) ({2*{t}} 0)) ENDREPEAT
SYMBOL cap -768 272 R0
SYMATTR InstName C5
SYMATTR Value 1nF
SYMBOL cap 1760 112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 1nF
SYMBOL cap -496 352 R0
SYMATTR InstName C7
SYMATTR Value 1µF
SYMBOL cap 1472 -16 R0
SYMATTR InstName C8
SYMATTR Value 1µF
SYMBOL Si7454DP 16 352 M0
WINDOW 3 -78 37 Top 2
SYMATTR InstName U4
SYMBOL Si7454DP 1024 32 M180
WINDOW 3 -78 37 Top 2
SYMATTR InstName U5
SYMBOL Si7454DP 1024 272 M180
WINDOW 3 -78 37 Top 2
SYMATTR InstName U6
SYMBOL Si7454DP 32 64 M0
WINDOW 3 -78 37 Top 2
SYMATTR InstName U7
TEXT 624 -344 Left 2 !.param Rout_H=10 Rout_L=10 Rin_H=0.1 Rin_L=0.1 Cboot=230e-9 t=300e-9 dt=15e-9
TEXT -584 -592 Left 2 ;Simulation\n-> 1/(1.7e6) / 2 = 300 ns PWM signal\n-> 0->300 ns high, 300->600ns\nAdding input resistors and true differential PWM\n-> Needed in case of a voltage drop in MCU\n-> common mode noise is filtered out from the driving circuit\nShoot-through circuitry\n-> Try to add dead-time / model parasitics which should prevent shoot-through\nOFFSET FROM 300 ns\n- There is a pretty significant conduction delay / rise time at these high frequencies\n- That is the main reason why the actual FET switching has a 50-100 ns delay\n- On top of that the spice-model used is worse than the one we are actually using
TEXT -352 664 Left 2 !.tran 0 30e-6 0 0.1e-9
TEXT -1112 608 Left 2 ;- 1 nF Filter capacitor at EN\n- 1 uF decoupling capacitor at Vcc
TEXT -352 760 Left 2 !.meas TRAN PERIODIC_CURRENT_INTEGRAL INTEG I(C2)+I(R1) FROM 10.44u TO 10.74u
TEXT -352 816 Left 2 !.meas TRAN PEAK_CURRENT_INTEGRAL INTEG I(C2)+I(R1) FROM 10.524u TO 10.536u
TEXT -352 960 Left 2 !.meas TRAN AVERAGE_CURRENT PERIODIC_CURRENT_INTEGRAL / {t*2}
TEXT -352 888 Left 2 !.meas TRAN RMS_CURRENT RMS I(C2)+I(R1) FROM 10.0u TO 10.6u
RECTANGLE Normal 672 400 192 80 2
