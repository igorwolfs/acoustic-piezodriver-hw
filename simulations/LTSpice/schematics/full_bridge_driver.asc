Version 4
SHEET 1 1908 1688
WIRE 96 -368 -96 -368
WIRE 176 -368 96 -368
WIRE 176 -320 176 -368
WIRE -96 -288 -96 -368
WIRE 176 -176 176 -240
WIRE -96 -160 -96 -224
WIRE 416 -96 240 -96
WIRE -976 -16 -1152 -16
WIRE -192 -16 -896 -16
WIRE 416 16 416 -16
WIRE -448 96 -480 96
WIRE 96 96 96 -368
WIRE -192 112 -192 -16
WIRE -192 112 -240 112
WIRE -480 128 -480 96
WIRE -448 128 -480 128
WIRE -208 144 -240 144
WIRE -96 144 -96 -80
WIRE -96 144 -208 144
WIRE -112 176 -240 176
WIRE 48 176 -32 176
WIRE -1088 192 -1312 192
WIRE -976 192 -1088 192
WIRE -448 192 -896 192
WIRE -160 208 -240 208
WIRE -448 224 -496 224
WIRE -1312 240 -1312 192
WIRE 240 256 240 -96
WIRE -160 336 -160 208
WIRE -112 336 -160 336
WIRE 48 336 48 176
WIRE 48 336 -32 336
WIRE 192 336 48 336
WIRE -1312 400 -1312 320
WIRE -208 400 -208 144
WIRE -496 464 -496 224
WIRE -208 464 -496 464
WIRE 240 464 240 352
WIRE 240 464 -208 464
WIRE -1152 672 -1152 -16
WIRE -1152 672 -1328 672
WIRE -1088 672 -1088 192
WIRE -960 672 -1088 672
WIRE -304 672 -880 672
WIRE -128 768 -128 752
WIRE -560 784 -592 784
WIRE 240 784 240 464
WIRE -304 800 -304 672
WIRE -304 800 -352 800
WIRE -592 816 -592 784
WIRE -560 816 -592 816
WIRE -128 832 -352 832
WIRE 96 832 96 176
WIRE 96 832 -128 832
WIRE -224 864 -352 864
WIRE -64 864 -144 864
WIRE 192 864 -64 864
WIRE -1152 880 -1152 672
WIRE -960 880 -1152 880
WIRE -560 880 -880 880
WIRE -272 896 -352 896
WIRE -560 912 -608 912
WIRE -1328 960 -1328 672
WIRE -272 1024 -272 896
WIRE -224 1024 -272 1024
WIRE -64 1024 -64 864
WIRE -64 1024 -144 1024
WIRE -1328 1120 -1328 1040
WIRE -608 1152 -608 912
WIRE 240 1152 240 880
WIRE 240 1152 -608 1152
WIRE 240 1232 240 1152
FLAG 240 1232 0
FLAG 176 -176 0
FLAG 416 16 0
FLAG -128 752 0
FLAG -1312 400 0
FLAG -1328 1120 0
SYMBOL nmos 192 256 R0
SYMATTR InstName M1
SYMATTR Value NDS355AN
SYMBOL nmos 192 784 R0
SYMATTR InstName M2
SYMATTR Value NDS355AN
SYMBOL 1EDN8550 -336 160 R180
SYMATTR InstName U1
SYMBOL res -16 160 R90
WINDOW 0 0 38 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rg_off}
SYMBOL res -16 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rg_on}
SYMBOL voltage 176 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 20
SYMBOL voltage 416 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 20
SYMBOL 1EDN8550 -448 848 R180
SYMATTR InstName U2
SYMBOL res -128 848 R90
WINDOW 0 0 38 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rg_off}
SYMBOL res -128 1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rg_on}
SYMBOL res 80 80 R0
WINDOW 3 22 93 Left 2
SYMATTR Value {Rvdd_damp}
SYMATTR InstName R5
SYMBOL res -112 -176 R0
SYMATTR InstName R6
SYMATTR Value {Rboot}
SYMBOL diode -112 -288 R0
SYMATTR InstName D1
SYMBOL cap -112 832 R180
WINDOW 0 24 56 Left 2
WINDOW 3 51 28 Left 2
SYMATTR InstName C2
SYMATTR Value {Cvdd}
SYMBOL cap -224 400 R0
SYMATTR InstName C1
SYMATTR Value {Cboot}
SYMBOL voltage -1312 224 R0
WINDOW 3 -1126 253 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PWL REPEAT FOREVER ((0 0) (299n 0) (300u 3.3) (599n 3,3) (600n 0)) ENDREPEAT
SYMBOL voltage -1328 944 R0
WINDOW 3 -1114 113 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PWL REPEAT FOREVER ((0 3.3) (299n 3.3) (300u 0) (599n 0) (600n 3.3)) ENDREPEAT
SYMBOL res -880 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {Rin+}
SYMBOL res -880 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {Rin-}
SYMBOL res -864 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {Rin+}
SYMBOL res -864 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {Rin-}
TEXT 624 936 Left 2 !.tran 0 1 0 1e-9
TEXT 624 -344 Left 2 !.param Rg_off=30e3 Rg_on=51e3 Rin+=51e3 Rin-=51e3 Rboot=1e3 Cboot=1e-6 Rvdd_damp=10 Cvdd=1e-6
TEXT -840 -432 Left 2 ;Simulation\n-> 1/(1.7e6) / 2 = 300 ns PWM signal\n-> 0->300 ns high, 300->600ns\nAdding input resistors and true differential PWM\n-> Needed in case of a voltage drop in MCU\n-> common mode noise is filtered out from the driving circuit
